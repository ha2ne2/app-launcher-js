<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>アプリ起動サンプル</title>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
</head>
<body>


	<a href="twitter://user?screen_name=TwitterJP">twitter://user?screen_name=TwitterJP</a><br>
	<a href="twitter://">twitter://</a><br>
	
	UA:<div id="UA"></div>

    <!-- <a href="公式サイトのURLとかここに入れるべし！">サイトを開く</a> -->

    <script>
    	var ua = "Mozilla/5.0 (iPhone; CPU iPhone OS 12_1_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.0 Mobile/15E148 Safari/604.1";
    
        // アプリを開く。アプリがインストールされていなければサイトを開く。
        function launchApp() {
            var IOS_SCHEME = 'twitter://user?screen_name=TwitterJP';
            var IOS_STORE = 'http://yahoo.co.jp';
            var ANDROID_SCHEME = 'AndroidのURLスキームをここに入れるべし！';
            var ANDROID_PACKAGE = 'Androidのパッケージ名をここに入れるべし！';
            var PC_SITE = '公式サイトのURLとかここに入れるべし！'

            var userAgent = navigator.userAgent.toLowerCase();
            console.log("HERE1");
            // iPhone端末ならアプリを開くかApp Storeを開く。
            if (ua.toLowerCase().search(/iphone|ipad|ipod/) > -1) {
            	console.log("HERE2");
                //launch_frame.location.href = IOS_SCHEME;
                setTimeout(function() {
                    location.href = IOS_SCHEME;
                }, 5000);
            }
//            // Android端末ならアプリを開くかGoogle Playを開く。
//            else if (userAgent.search(/android/) > -1) {
//                document.location = 'intent://#Intent;scheme=' + ANDROID_SCHEME
//                        + ';package=' + ANDROID_PACKAGE + ';end';
//            }
//            // その他・不明・PCなどの場合はサイトを開く。
//            else {
//                document.location = PC_SITE;
//            }
        }

        // ページ読み込み時に実行
        window.onload = function() {
        	$('#UA').text(navigator.userAgent);
            launchApp();
        }
	</script>
</body>
</html>
